---
title: Manage Database Users and Roles
summary: Learn how to manage database users and roles in the TiDB Cloud console.
---

# データベースユーザーとロールの管理 {#manage-database-users-and-roles}

このドキュメントでは、[TiDB Cloudコンソール](https://tidbcloud.com/)の**SQLユーザー**ページを使用して、データベースユーザーとロールを管理する方法について説明します。

> **Note:**
>
> - **SQLユーザー**ページはベータ版であり、リクエストによりのみ利用可能です。この機能をリクエストするには、[TiDB Cloudコンソール](https://tidbcloud.com)の右下隅にある\*\*?\*\*をクリックし、**サポートリクエスト**をクリックします。次に、**説明**フィールドに「SQLユーザーページの申請」と入力し、**送信**をクリックします。
> - データベースユーザーとロールは、[組織とプロジェクトのユーザーとロール](/tidb-cloud/manage-user-access.md)とは独立しています。データベースユーザーはTiDBクラスターのデータベースにアクセスするために使用され、組織とプロジェクトのユーザーは[TiDB Cloudコンソール](https://tidbcloud.com/)の組織とプロジェクトにアクセスするために使用されます。
> - **SQLユーザー**ページの他に、SQLクライアントを使用してクラスターに接続し、SQLステートメントを書くことでデータベースユーザーとロールを管理することもできます。詳細については、[TiDBユーザーアカウント管理](https://docs.pingcap.com/tidb/dev/user-account-management)を参照してください。

## データベースユーザーのロール {#roles-of-database-users}

TiDB Cloudでは、組み込みのロールと複数のカスタムロール（利用可能な場合）をSQLユーザーに付与して、ロールベースのアクセス制御を行うことができます。

- 組み込みのロール

  TiDB Cloudでは、次の組み込みのロールを提供しています。これらのロールをSQLユーザーに付与することで、データベースへのアクセスを制御することができます。

  - `データベース管理者`
  - `データベース読み書き`
  - `データベース読み取り専用`

- カスタムロール

  組み込みのロールに加えて、[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタムロールがクラスターにある場合、TiDB CloudコンソールでSQLユーザーを作成または編集する際に、これらのカスタムロールをSQLユーザーに付与することもできます。

SQLユーザーに組み込みのロールと複数のカスタムロールが付与されると、ユーザーの権限はこれらのロールから派生するすべての権限の合計となります。

## 前提条件 {#prerequisites}

- **SQLユーザー**ページを使用してデータベースユーザーとロールを管理するには、組織の`所有者`ロールまたはプロジェクトの`所有者`ロールである必要があります。
- プロジェクトの`データアクセス読み書き`または`データアクセス読み取り専用`ロールにいる場合、そのプロジェクトの**SQLユーザー**ページでのみデータベースユーザーを表示することができます。

## SQLユーザーの作成 {#create-a-sql-user}

SQLユーザーを作成するには、次の手順を実行します。

1. [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

   > **Tip:**
   >
   > 複数のプロジェクトを持っている場合、左下隅の<MDSvgIcon name="icon-left-projects" />をクリックして、別のプロジェクトに切り替えることができます。

2. クラスター名をクリックし、左側のナビゲーションペインで**SQLユーザー**をクリックします。

3. 右上隅の**SQLユーザーの作成**をクリックします。

   SQLユーザーの設定ダイアログが表示されます。

4. ダイアログで、次の情報を入力します。

   1. SQLユーザーの名前を入力します。
   2. SQLユーザーのパスワードを作成するか、TiDB Cloudにパスワードを自動生成させます。
   3. SQLユーザーにロールを付与します。

      - **組み込みのロール**: **組み込みのロール**のドロップダウンリストからSQLユーザーに組み込みのロールを選択する必要があります。

      - **カスタムロール**: クラスターに[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタムロールがある場合、**カスタムロール**のドロップダウンリストからカスタムロールを選択してSQLユーザーに付与することができます。そうでない場合、ここでは**カスタムロール**のドロップダウンリストは表示されません。

   各SQLユーザーに対して、組み込みのロールと複数のカスタムロールを付与することができます。

5. **作成**をクリックします。

## SQLユーザーの表示 {#view-sql-users}

クラスターのSQLユーザーを表示するには、次の手順を実行します。

1. [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/console/clusters)ページに移動します。

   > **Tip:**
   >
   > 複数のプロジェクトを持っている場合、左下隅の<MDSvgIcon name="icon-left-projects" />をクリックして、別のプロジェクトに切り替えることができます。

2. クラスター名をクリックし、左側のナビゲーションペインで**SQLユーザー**をクリックします。

## SQLユーザーの編集 {#edit-a-sql-user}

SQLユーザーのパスワードまたはロールを編集するには、次の手順を実行します。

1. [TiDB Cloud console](https://tidbcloud.com/)にアクセスし、プロジェクトの[**クラスタ**](https://tidbcloud.com/console/clusters)ページに移動します。

   > **ヒント：**
   >
   > 複数のプロジェクトを持っている場合、左下のコーナーにある<MDSvgIcon name="icon-left-projects" />をクリックして、別のプロジェクトに切り替えることができます。

2. クラスタ名をクリックし、左側のナビゲーションペインで**SQLユーザー**をクリックします。

3. 編集するSQLユーザーの行で、**アクション**列の\*\*...\*\*をクリックし、**編集**をクリックします。

   SQLユーザー構成のダイアログが表示されます。

4. ダイアログで、必要に応じてユーザーパスワードとロールを編集し、**更新**をクリックします。

   > **注意：**
   >
   > デフォルトの`<prefix>.root`ユーザーのロールは変更できません。パスワードのみを変更できます。

## SQLユーザーの削除 {#delete-a-sql-user}

SQLユーザーを削除するには、次の手順を実行します：

1. [TiDB Cloud console](https://tidbcloud.com/)にアクセスし、プロジェクトの[**クラスタ**](https://tidbcloud.com/console/clusters)ページに移動します。

   > **ヒント：**
   >
   > 複数のプロジェクトを持っている場合、左下のコーナーにある<MDSvgIcon name="icon-left-projects" />をクリックして、別のプロジェクトに切り替えることができます。

2. クラスタ名をクリックし、左側のナビゲーションペインで**SQLユーザー**をクリックします。

3. 編集するSQLユーザーの行で、**アクション**列の\*\*...\*\*をクリックし、**削除**をクリックします。

   > **注意：**
   >
   > デフォルトの`<prefix>.root`ユーザーは削除できません。

4. 削除を確認します。
