---
title: Manage a Data App
summary: Learn how to create, view, modify, and delete a Data App in the TiDB Cloud console.
---

# データアプリの管理 {#manage-a-data-app}

データサービス（ベータ版）のデータアプリは、特定のアプリケーションのデータにアクセスするためのエンドポイントの集合です。APIキーを使用して認証設定を構成し、データアプリのエンドポイントへのアクセスを制限することができます。

このドキュメントでは、TiDB Cloudコンソールでデータアプリを管理する方法について説明します。[**データサービス**](https://tidbcloud.com/console/data-service)ページでは、すべてのデータアプリ、エンドポイント、およびAPIキーを管理することができます。

## データアプリの作成 {#create-a-data-app}

プロジェクトにデータアプリを作成するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページで、左ペインの<MDSvgIcon name="icon-create-data-app" /> **データアプリを作成**をクリックします。

   > **ヒント：**
   >
   > これがプロジェクトで最初のデータアプリの場合は、ページの中央にある**データアプリを作成**をクリックします。

2. 名前、説明を入力し、データアプリがアクセスするクラスタを選択します。

   > **Note:**
   >
   > データアプリのタイプはデフォルトで**標準データアプリ**です。**Chat2Queryデータアプリ**を作成する場合は、このドキュメントではなく、[Chat2Query APIの使用を開始する](/tidb-cloud/use-chat2query-api.md)を参照してください。

3. (オプション) データアプリのエンドポイントを自動的にGitHubリポジトリとブランチにデプロイするには、**GitHubに接続**を有効にし、次の操作を行います。

   1. **GitHubにインストール**をクリックし、画面の指示に従って、ターゲットリポジトリに**TiDB Cloudデータサービス**をアプリケーションとしてインストールします。
   2. **認証**をクリックして、GitHub上のアプリケーションへのアクセスを認証します。
   3. データアプリの構成ファイルを保存するターゲットリポジトリ、ブランチ、およびディレクトリを指定します。

      > **Note:**
      >
      > - ディレクトリはスラッシュ（`/`）で始まる必要があります。例：`/mydata`。指定したディレクトリがターゲットリポジトリとブランチに存在しない場合は、自動的に作成されます。
      > - リポジトリ、ブランチ、およびディレクトリの組み合わせは、データアプリ間で一意の構成ファイルのパスを識別します。指定したパスが他のデータアプリで使用されている場合は、新しいパスを指定する必要があります。そうしないと、TiDB Cloudコンソールで現在のデータアプリに構成されたエンドポイントが指定したパスのファイルを上書きします。
      > - 指定したパスに他のデータアプリからコピーした構成ファイルが含まれている場合、これらのファイルを現在のデータアプリにインポートする場合は、[既存のデータアプリの構成をインポートする](/tidb-cloud/data-service-manage-github-connection.md#既存のデータアプリの構成をインポートする)を参照してください。

4. **データアプリを作成**をクリックします。

   新しく作成されたデータアプリがリストの先頭に追加されます。新しいデータアプリには、デフォルトの`untitled endpoint`が作成されます。

5. データアプリをGitHubに接続するように構成した場合は、指定したGitHubディレクトリを確認してください。[データアプリの構成ファイル](/tidb-cloud/data-service-app-config-files.md)が`tidb-cloud-data-service`によってコミットされていることがわかります。これは、データアプリが正常にGitHubに接続されていることを意味します。

   新しいデータアプリでは、**自動同期とデプロイ**と**レビュードラフト**がデフォルトで有効になっているため、TiDB CloudコンソールとGitHubの間でデータアプリの変更を簡単に同期し、デプロイ前に変更を確認することができます。GitHub統合の詳細については、[GitHubを使用してデータアプリの変更を自動的にデプロイする](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。

## データアプリの構成 {#configure-a-data-app}

データアプリの名前、バージョン、説明を編集し、GitHub接続、リンクされたデータソース、APIキー、エンドポイント、およびデプロイを管理することができます。

### データアプリのプロパティを編集する {#edit-data-app-properties}

データアプリの名前、バージョン、説明を編集することができます。データアプリのプロパティを編集するには、次の手順を実行します：

1. [**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左側のペインで、対象のデータアプリの名前をクリックして、詳細を表示します。
3. **データアプリのプロパティ** エリアで、<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="gray.1"><path d="M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg> をクリックして、アプリ名、バージョン、または説明を変更し、**確認** をクリックします。

### GitHub 接続を管理する {#manage-github-connection}

詳細については、[GitHub で自動的にデプロイする](/tidb-cloud/data-service-manage-github-connection.md) を参照してください。

### GPT とのデータアプリの統合 {#integrate-your-data-app-with-gpts}

[GPT](https://openai.com/blog/introducing-gpts) を使用して、アプリケーションをインテリジェントな機能で強化することができます。

GPT を使用してデータアプリを統合するには、次の手順を実行します。

1. [**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。

2. 左側のペインで、対象のデータアプリを見つけて、その名前をクリックして詳細を表示します。

3. **GPT との統合** エリアで、**設定を取得** をクリックします。

   ![設定を取得](/media/tidb-cloud/data-service/GPTs1.png)

4. 表示されるダイアログボックスで、次のフィールドが表示されます。

   a. **API 仕様 URL**: データアプリの OpenAPI 仕様の URL をコピーします。詳細については、[OpenAPI 仕様を使用する](#use-the-openapi-specification) を参照してください。

   b. **API キー**: データアプリの API キーを入力します。まだ API キーを持っていない場合は、**API キーを作成** をクリックして作成します。詳細については、[API キーを作成する](/tidb-cloud/data-service-api-key.md#create-an-api-key) を参照してください。

   c. **API キーのエンコード**: 提供した API キーと同等の base64 エンコードされた文字列をコピーします。

   ![GPTs ダイアログボックス](/media/tidb-cloud/data-service/GPTs2.png)

5. コピーした API 仕様 URL とエンコードされた API キーを GPT の設定に使用します。

### リンクされたデータソースを管理する {#manage-linked-data-sources}

データアプリにリンクされたクラスタを追加または削除することができます。

データアプリにクラスタをリンクするには、次の手順を実行してください：

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左側のペインで、対象のデータアプリを見つけ、その名前をクリックして詳細を表示します。
3. **リンクされたデータソース**エリアで、**クラスタを追加**をクリックします。
4. 表示されたダイアログボックスで、リストからクラスタを選択し、**追加**をクリックします。

データアプリからリンクされたクラスタを削除するには、次の手順を実行してください：

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左側のペインで、対象のデータアプリを見つけ、その名前をクリックして詳細を表示します。
3. **リンクされたデータソース**エリアで、データアプリから削除したい対象のリンクされたクラスタを見つけ、**アクション**列の**削除**をクリックします。
4. 表示されたダイアログボックスで、削除を確認します。

   リンクされたクラスタを削除すると、クラスタ自体は削除されませんが、データアプリ内の既存のエンドポイントはそれにアクセスできなくなります。

### APIキーの管理 {#manage-an-api-key}

詳細については、[APIキーの管理](/tidb-cloud/data-service-api-key.md)を参照してください。

### エンドポイントの管理 {#manage-an-endpoint}

詳細については、[エンドポイントの管理](/tidb-cloud/data-service-manage-endpoint.md)を参照してください。

### デプロイの管理 {#manage-deployments}

デプロイを管理するには、次の手順を実行してください：

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。

2. 左側のペインで、対象のデータアプリを見つけ、その名前をクリックして詳細を表示します。

3. **デプロイメント構成**エリアで、**設定**をクリックします。デプロイメント構成のダイアログが表示されます。

4. ダイアログで、**自動同期とデプロイ**と**レビュードラフト**の設定を選択します。

   - **自動同期とデプロイ**

     - このオプションは、データアプリがGitHubに接続されている場合にのみ有効にできます。詳細については、[GitHubを使用して自動的にデプロイする](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。
     - 有効にすると、指定したGitHubディレクトリで行った変更が自動的にTiDB Cloudにデプロイされ、TiDB Cloudコンソールで行った変更がGitHubにプッシュされます。データアプリのデプロイ履歴で対応するデプロイとコミット情報を見つけることができます。
     - 無効にすると、指定したGitHubディレクトリで行った変更はTiDB Cloudにデプロイされません。また、TiDB Cloudコンソールで行った変更もGitHubにプッシュされません。

   - **レビュードラフト**

     - 有効にすると、デプロイ前にTiDB Cloudコンソールで行ったデータアプリの変更をレビューすることができます。レビューに基づいて、変更をデプロイするか破棄するかを選択できます。
     - 無効にすると、TiDB Cloudコンソールで行ったデータアプリの変更は直接デプロイされます。

5. **アクション**列では、必要に応じて変更を編集または再デプロイすることができます。

## OpenAPI仕様の使用 {#use-the-openapi-specification}

データサービス（ベータ版）では、各データアプリに対してOpenAPI仕様3.0を生成することができます。これにより、標準化された形式でエンドポイントとやり取りすることができます。この仕様を使用して、標準化されたOpenAPIドキュメント、クライアントSDK、およびサーバースタブを生成することができます。

### OpenAPI仕様のダウンロード {#download-the-openapi-specification}

データアプリのOpenAPI仕様をJSONまたはYAML形式でダウンロードするには、次の手順を実行してください：

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。

2. 左側のペインで、対象のデータアプリの名前をクリックして詳細を表示します。

3. **API仕様**エリアで、**ダウンロード**をクリックし、**JSON**または**YAML**を選択します。

   初めてOpenAPI仕様をダウンロードする場合は、要求を承認する必要があります。

4. その後、OpenAPI仕様がローカルマシンにダウンロードされます。

### OpenAPIドキュメントの表示 {#view-the-openapi-documentation}

データサービス（ベータ版）では、各データアプリに対して自動生成されたOpenAPIドキュメントを提供しています。ドキュメントでは、エンドポイント、パラメータ、およびレスポンスを表示し、エンドポイントを試すことができます。

OpenAPIドキュメントにアクセスするには、次の手順を実行してください：

1. [**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。

2. 左側のペインで、対象のデータアプリの名前をクリックして、詳細を表示します。

3. ページの右上隅にある **View API Docs** をクリックします。

   OpenAPI仕様を使用するのは初めての場合は、要求が表示されたときに要求を認証する必要があります。

4. 次に、OpenAPIドキュメントが新しいタブで開きます。ドキュメントでは、次の情報を表示できます。

   - データアプリの名前、バージョン、および説明。
   - タグごとにグループ化されたエンドポイント。

5. (オプション) エンドポイントを試すには、次の手順を実行します。

   1. **Authorize** をクリックし、表示されるダイアログボックスで、**Username** にデータアプリの公開鍵を、**Password** にプライベートキーを入力します。

      詳細については、[APIキーの管理](/tidb-cloud/data-service-api-key.md)を参照してください。

   2. 対象のエンドポイントを見つけ、必要なパラメータを提供し、**Try it out** をクリックします。**Response body** エリアにレスポンスが表示されます。

OpenAPIドキュメントの使用方法の詳細については、[Swagger UI](https://swagger.io/tools/swagger-ui/)を参照してください。

## データアプリの削除 {#delete-a-data-app}

> **Note:**
>
> データアプリを削除する前に、すべてのエンドポイントがオフラインであることを確認してください。そうしないと、データアプリを削除できません。エンドポイントをアンデプロイするには、[エンドポイントのアンデプロイ](/tidb-cloud/data-service-manage-endpoint.md#undeploy-an-endpoint)を参照してください。

データアプリを削除するには、次の手順を実行します。

1. [**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左側のペインで、対象のデータアプリを見つけ、その名前をクリックして詳細を表示します。
3. **Danger Zone** エリアで、**Delete Data App** をクリックします。確認用のダイアログボックスが表示されます。
4. `<organization name>/<project name>/<data app name>` を入力し、**I understand, delete** をクリックします。

   データアプリが削除されると、そのデータアプリに存在するエンドポイントとAPIキーも削除されます。このデータアプリがGitHubに接続されている場合、アプリを削除しても、対応するGitHubリポジトリのファイルは削除されません。

## 詳細情報 {#learn-more}

- [Postmanでデータアプリを実行する](/tidb-cloud/data-service-postman-integration.md)
