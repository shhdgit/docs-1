---
title: Manage a Data App
summary: Learn how to create, view, modify, and delete a Data App in the TiDB Cloud console.
---

# データアプリを管理する {#manage-a-data-app}

データサービス（ベータ版）のデータアプリは、特定のアプリケーションのデータにアクセスするためのエンドポイントのコレクションです。APIキーを使用して認可設定を構成し、データアプリのエンドポイントへのアクセスを制限することができます。

このドキュメントでは、TiDB Cloudコンソールでデータアプリを管理する方法について説明します。[**データサービス**](https://tidbcloud.com/console/data-service) ページでは、すべてのデータアプリ、エンドポイント、およびAPIキーを管理できます。

## データアプリの作成 {#create-a-data-app}

プロジェクト用のデータアプリを作成するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページで、左ペインの <MDSvgIcon name="icon-create-data-app" /> **Create DataApp** をクリックします。

   > **ヒント:**
   >
   > プロジェクト内でこれが最初のデータアプリである場合は、ページの中央にある **Create Data App** をクリックします。

2. 名前、説明を入力し、データアプリがアクセスするクラスタを選択します。

   > **Note:**
   >
   > デフォルトでは、データアプリのタイプは **Standard Data App** です。**Chat2Query Data App** を作成する場合は、このドキュメントの代わりに [Chat2Query APIの使用を開始](/tidb-cloud/use-chat2query-api.md) を参照してください。

3. (オプション) データアプリのエンドポイントを自動的にGitHubリポジトリとブランチにデプロイする場合は、**Connect to GitHub** を有効にし、次の手順を実行します。

   1. **Install on GitHub** をクリックし、画面の指示に従って **TiDB Cloud Data Service** を対象のリポジトリにアプリケーションとしてインストールします。
   2. GitHubでアプリケーションへのアクセスを承認するために **Authorize** をクリックします。
   3. データアプリの構成ファイルを保存するターゲットリポジトリ、ブランチ、およびディレクトリを指定します。

      > **Note:**
      >
      > - ディレクトリはスラッシュ（`/`）で始まる必要があります。例: `/mydata`。指定したディレクトリが対象のリポジトリとブランチに存在しない場合、自動的に作成されます。
      > - リポジトリ、ブランチ、およびディレクトリの組み合わせは、データアプリ間で一意である必要があります。指定したパスが他のデータアプリで既に使用されている場合は、代わりのパスを指定する必要があります。そうでない場合、TiDB Cloudコンソールで構成されたエンドポイントは指定したパスのファイルを上書きします。
      > - 指定したパスに別のデータアプリからコピーされた構成ファイルが含まれており、これらのファイルを現在のデータアプリにインポートしたい場合は、[既存のデータアプリの構成をインポート](/tidb-cloud/data-service-manage-github-connection.md#import-configurations-of-an-existing-data-app) を参照してください。

4. **Create Data App** をクリックします。

   新しく作成されたデータアプリがリストの先頭に追加されます。新しいデータアプリには、デフォルトの `untitled endpoint` が作成されます。

5. データアプリをGitHubに接続するように構成した場合は、指定したGitHubディレクトリを確認してください。[データアプリの構成ファイル](/tidb-cloud/data-service-app-config-files.md) が `tidb-cloud-data-service` によってディレクトリにコミットされていることがわかります。これは、データアプリがGitHubに正常に接続されていることを意味します。

   新しいデータアプリでは、**Auto Sync & Deployment** および **Review Draft** がデフォルトで有効になっているため、TiDB CloudコンソールとGitHub間でデータアプリの変更を簡単に同期し、デプロイ前に変更を確認できます。GitHub統合の詳細については、[GitHubを使用してデータアプリの変更を自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md) を参照してください。

## データアプリの構成 {#configure-a-data-app}

データアプリの名前、バージョン、説明を編集し、GitHub接続、リンクされたデータソース、APIキー、エンドポイント、およびデプロイを管理できます。

### データアプリのプロパティを編集 {#edit-data-app-properties}

データアプリの名前、バージョン、説明を編集できます。データアプリのプロパティを編集するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで、対象のデータアプリの名前をクリックして詳細を表示します。
3. **データアプリのプロパティ** エリアで、<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="gray.1"><path d="M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg> をクリックし、アプリ名、バージョン、または説明を変更し、**Confirm** をクリックします。

### GitHub接続を管理 {#manage-github-connection}

詳細については、[GitHubを使用して自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md) を参照してください。

### データアプリをGPTsと統合 {#integrate-your-data-app-with-gpts}

[GPTs](https://openai.com/blog/introducing-gpts) を使用してアプリケーションにインテリジェントな機能を追加するために、データアプリをGPTsと統合できます。

データアプリをGPTsと統合するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。

2. 左ペインで、対象のデータアプリを見つけ、その名前をクリックして詳細を表示します。

3. **GPTsとの統合** エリアで、**Get Configuration** をクリックします。

   ![Get Configuration](/media/tidb-cloud/data-service/GPTs1.png)

4. 表示されるダイアログボックスでは、次のフィールドが表示されます。

   a. **API Specification URL**: データアプリのOpenAPI仕様のURLをコピーします。詳細については、[OpenAPI仕様の使用](#use-the-openapi-specification) を参照してください。

   b. **API Key**: データアプリのAPIキーを入力します。まだAPIキーを持っていない場合は、**Create API Key** をクリックして作成します。詳細については、[APIキーの作成](/tidb-cloud/data-service-api-key.md#create-an-api-key) を参照してください。

   c. **API Key Encoded**: 提供したAPIキーに相当するbase64エンコードされた文字列をコピーします。

   ![GPTs Dialog Box](/media/tidb-cloud/data-service/GPTs2.png)

5. コピーしたAPI Specification URLとエンコードされたAPIキーをGPTの構成で使用します。

### リンクされたデータソースの管理 {#manage-linked-data-sources}

データアプリにリンクされたクラスタを追加または削除できます。

データアプリにクラスタをリンクするには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左ペインで、対象のデータアプリを見つけ、その詳細を表示するために対象のデータアプリの名前をクリックします。
3. **リンクされたデータソース**エリアで、**クラスタの追加**をクリックします。
4. 表示されるダイアログボックスで、リストからクラスタを選択し、**追加**をクリックします。

データアプリからリンクされたクラスタを削除するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左ペインで、対象のデータアプリを見つけ、その詳細を表示するために対象のデータアプリの名前をクリックします。
3. **リンクされたデータソース**エリアで、データアプリから削除したい対象のリンクされたクラスタを見つけ、**アクション**列の**削除**をクリックします。
4. 表示されるダイアログボックスで、削除を確認します。

   リンクされたクラスタを削除した後、クラスタは削除されませんが、データアプリの既存のエンドポイントはそれにアクセスできなくなります。

### APIキーの管理 {#manage-an-api-key}

詳細については、[APIキーの管理](/tidb-cloud/data-service-api-key.md)を参照してください。

### エンドポイントの管理 {#manage-an-endpoint}

詳細については、[エンドポイントの管理](/tidb-cloud/data-service-manage-endpoint.md)を参照してください。

### デプロイの管理 {#manage-deployments}

デプロイの管理には、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。

2. 左ペインで、対象のデータアプリを見つけ、その詳細を表示するために対象のデータアプリの名前をクリックします。

3. **デプロイメント構成**エリアで、**コンフィグ**をクリックします。デプロイメント構成のダイアログが表示されます。

4. ダイアログで、**自動同期とデプロイ**および**レビュードラフト**の設定を選択します。

   - **自動同期とデプロイ**

     - このオプションは、データアプリがGitHubに接続されている場合にのみ有効にできます。詳細については、[GitHubで自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。
     - 有効にすると、指定したGitHubディレクトリで行われた変更はTiDB Cloudに自動的にデプロイされ、TiDB Cloudコンソールで行われた変更もGitHubにプッシュされます。対応するデプロイとコミット情報は、データアプリのデプロイ履歴で確認できます。
     - 無効にすると、指定したGitHubディレクトリで行われた変更はTiDB Cloudにデプロイされませんし、TiDB Cloudコンソールで行われた変更もGitHubにプッシュされません。

   - **レビュードラフト**

     - 有効にすると、デプロイ前にTiDB Cloudコンソールで行ったデータアプリの変更を確認できます。確認に基づいて、変更をデプロイするか破棄するかを選択できます。
     - 無効にすると、TiDB Cloudコンソールで行ったデータアプリの変更は直接デプロイされます。

5. **アクション**列では、必要に応じて変更を編集または再デプロイできます。

## OpenAPI仕様の使用 {#use-the-openapi-specification}

データサービス（ベータ版）は、各データアプリのためにOpenAPI仕様3.0を生成することをサポートしており、これにより標準化された形式でエンドポイントとやり取りできます。この仕様を使用して、標準化されたOpenAPIドキュメント、クライアントSDK、およびサーバースタブを生成できます。

### OpenAPI仕様のダウンロード {#download-the-openapi-specification}

データアプリのためにJSONまたはYAML形式でOpenAPI仕様をダウンロードするには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。

2. 左ペインで、対象のデータアプリの名前をクリックして、その詳細を表示します。

3. **API仕様**エリアで、**ダウンロード**をクリックし、**JSON**または**YAML**を選択します。

   これがOpenAPI仕様をダウンロードするのが初めての場合は、プロンプトが表示されたときにリクエストを承認する必要があります。

4. その後、OpenAPI仕様がローカルマシンにダウンロードされます。

### OpenAPIドキュメントの表示 {#view-the-openapi-documentation}

データサービス（ベータ版）は、各データアプリのために自動生成されたOpenAPIドキュメントを提供しています。このドキュメントでは、エンドポイント、パラメータ、およびレスポンスを表示し、エンドポイントを試すことができます。

OpenAPIドキュメントにアクセスするには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。

2. 左ペインで、対象のデータアプリの名前をクリックして、その詳細を表示します。

3. ページの右上隅で、**APIドキュメントを表示**をクリックします。

   これがOpenAPI仕様を使用するのが初めての場合は、プロンプトが表示されたときにリクエストを承認する必要があります。

4. その後、OpenAPIドキュメントが新しいタブで開きます。このドキュメントでは、次の情報を表示できます。

   - データアプリの名前、バージョン、および説明。
   - タグごとにグループ化されたエンドポイント。

5. （オプション）エンドポイントを試すには、次の手順を実行します。

   1. **承認**をクリックし、表示されるダイアログボックスで、**ユーザー名**としてデータアプリの公開キー、**パスワード**としてプライベートキーを入力します。

      詳細については、[APIキーの管理](/tidb-cloud/data-service-api-key.md)を参照してください。

   2. 対象のエンドポイントを見つけ、必要なパラメータを提供し、**試してみる**をクリックします。**レスポンス本体**エリアでレスポンスを表示できます。

OpenAPIドキュメントの使用方法の詳細については、[Swagger UI](https://swagger.io/tools/swagger-ui/)を参照してください。

## データアプリの削除 {#delete-a-data-app}

> **Note:**
>
> データアプリを削除する前に、すべてのエンドポイントがオフラインであることを確認してください。そうでない場合、データアプリを削除できません。エンドポイントをアンデプロイするには、[エンドポイントのアンデプロイ](/tidb-cloud/data-service-manage-endpoint.md#undeploy-an-endpoint)を参照してください。

データアプリを削除するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左ペインで、対象のデータアプリを見つけ、その詳細を表示するために対象のデータアプリの名前をクリックします。
3. **危険ゾーン**エリアで、**データアプリを削除**をクリックします。確認用のダイアログボックスが表示されます。
4. `<組織名>/<プロジェクト名>/<データアプリ名>`を入力し、**理解し、削除**をクリックします。

   データアプリが削除されると、データアプリ内の既存のエンドポイントとAPIキーも削除されます。このデータアプリがGitHubに接続されている場合、アプリを削除しても、対応するGitHubリポジトリのファイルは削除されません。

## もっと詳しく {#learn-more}

- [Postmanでデータアプリを実行](/tidb-cloud/data-service-postman-integration.md)
