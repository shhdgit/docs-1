---
title: tiup cluster deploy
---

# tiup cluster deploy {#tiup-cluster-deploy}

`tiup cluster deploy`コマンドは、新しいクラスタをデプロイするために使用されます。

## 構文 {#syntax}

```shell
tiup cluster deploy <cluster-name> <version> <topology.yaml> [flags]
```

- `<cluster-name>`: 新しいクラスタの名前。既存のクラスタ名と同じにすることはできません。
- `<version>`: デプロイするTiDBクラスタのバージョン番号。例：`v7.1.3`。
- `<topology.yaml>`: 準備された[topologyファイル](/tiup/tiup-cluster-topology-reference.md)。

## オプション {#options}

### -u, --user {#u-user}

- ターゲットマシンに接続するために使用されるユーザー名を指定します。このユーザーはターゲットマシンで秘密フリーのsudo root権限を持っている必要があります。
- データタイプ：`STRING`
- デフォルト：コマンドを実行する現在のユーザー。

### -i, --identity\_file {#i-identity-file}

- ターゲットマシンに接続するために使用されるキーファイルを指定します。
- データタイプ：`STRING`
- このオプションがコマンドで指定されていない場合、デフォルトで`~/.ssh/id_rsa`ファイルが使用されます。

### -p, --password {#p-password}

- ターゲットマシンに接続するために使用されるパスワードを指定します。このオプションは`-i/--identity_file`と同時に使用しないでください。
- データタイプ：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`の値を渡すか、値を渡さないでください。

### --ignore-config-check {#ignore-config-check}

- このオプションは、構成チェックをスキップするために使用されます。コンポーネントのバイナリファイルがデプロイされた後、TiDB、TiKV、およびPDコンポーネントの構成は、`<binary> --config-check <config-file>`を使用してチェックされます。`<binary>`はデプロイされたバイナリファイルのパスです。`<config-file>`は、ユーザー構成に基づいて生成された構成ファイルです。
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`の値を渡すか、値を渡さないでください。
- デフォルト：false

### --no-labels {#no-labels}

- このオプションは、ラベルチェックをスキップするために使用されます。
- 同じ物理マシンに2つ以上のTiKVノードがデプロイされている場合、リスクが存在します：PDがクラスタトポロジを学習できないため、PDは同じ物理マシンの異なるTiKVノードに複数のレプリカをスケジュールする可能性があります。これにより、この物理マシンは単一のポイントになります。このリスクを回避するには、ラベルを使用して、PDに同じリージョンを同じマシンにスケジュールしないように指示することができます。ラベルの構成については、[トポロジラベルによるレプリカのスケジュール](/schedule-replicas-by-topology-labels.md)を参照してください。
- テスト環境では、このリスクが重要になる可能性があり、`--no-labels`を使用してチェックをスキップできます。
- データタイプ：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`の値を渡すか、値を渡さないでください。

### --skip-create-user {#skip-create-user}

- クラスタデプロイ中、tiup-clusterは、トポロジファイルで指定されたユーザー名が存在するかどうかをチェックします。存在しない場合、作成します。このチェックをスキップするには、`--skip-create-user`オプションを使用できます。
- データタイプ：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`の値を渡すか、値を渡さないでください。

### -h, --help {#h-help}

- ヘルプ情報を出力します。
- データタイプ：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`の値を渡すか、値を渡さないでください。

## 出力 {#output}

デプロイログ。

[<< 前のページに戻る - TiUP Clusterコマンドリスト](/tiup/tiup-component-cluster.md#command-list)
